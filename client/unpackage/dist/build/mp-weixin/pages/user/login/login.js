(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/login/login"],{"4b95":function(e,t,a){"use strict";var n=a("f28e"),i=a.n(n);i.a},"6d4c":function(e,t,a){"use strict";(function(e,t){var n=a("47a9");a("1e94");n(a("3240"));var i=n(a("d85c"));e.__webpack_require_UNI_MP_PLUGIN__=a,t(i.default)}).call(this,a("3223")["default"],a("df3c")["createPage"])},c081:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this.$createElement;this._self._c},i=[]},d85c:function(e,t,a){"use strict";a.r(t);var n=a("c081"),i=a("e098");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("4b95");var u=a("828b"),c=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=c.exports},e098:function(e,t,a){"use strict";a.r(t);var n=a("e92f"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},e92f:function(e,t,a){"use strict";(function(e){var n=a("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("462b")),o=n(a("435b")),u=n(a("9ed6")),c=n(a("85d8")),l=n(a("9a2d")),d=n(a("c118")),r={components:{},data:function(){return{type:"login",tip:void 0,background:"",logo:"",title:"",argeeLicense:!1,yhxy:void 0,yszc:void 0}},onLoad:function(t){var a=this;o.default.addShareScore(t.source),t.type&&(this.type=t.type),t.tip&&(this.tip=t.tip);var n="login"==this.type?"登录":"绑定手机号";e.setNavigationBarTitle({title:n}),this.title=getApp().globalData.appName,e.login({success:function(e){a.code=e.code}}),this.loadSetting()},onShareAppMessage:function(){return{title:getApp().globalData.appName,path:o.default.addShareSource("pages/tabs/index/index?n=n")}},methods:{openLink:function(e){o.default.openLink(e)},clickAgreeLicense:function(){this.argeeLicense=!this.argeeLicense},clickLogin:function(){this.argeeLicense?this.login("微信用户",""):c.default.toast("请阅读并同意《用户协议》及《隐私条款》")},login:function(t,a){var n={code:this.code,nickname:t,avatar:a},c=e.getStorageSync(i.default.ZHUIGE_SOURCE_USER_ID);c&&(n.from_user_id=c),n.channel="weixin",d.default.post(l.default.URL("user","login"),n).then((function(t){0!=t.code?(u.default.setUser(void 0),e.$emit("zhuige_event_user_login",{}),e.showModal({content:t.message}),e.reLaunch({url:"/pages/tabs/index/index"})):(u.default.setUser(t.data),e.$emit("zhuige_event_user_login",{}),t.data.first&&1==t.data.first?e.redirectTo({url:"/pages/user/verify/verify"}):o.default.navigateBack())}),(function(e){console.log(e)}))},clickWalk:function(){o.default.navigateBack()},loadSetting:function(){var e=this;d.default.post(l.default.URL("setting","login")).then((function(t){e.background=t.data.background,e.logo=t.data.logo,e.title=t.data.title,e.yhxy=t.data.yhxy,e.yszc=t.data.yszc}),(function(e){console.log(e)}))},getPhoneNumber:function(t){"getPhoneNumber:ok"==t.detail.errMsg?d.default.post(l.default.URL("user","set_mobile2"),{code:t.detail.code}).then((function(t){c.default.toast(t.message);var a=u.default.getUser();a.mobile=t.data.mobile,u.default.setUser(a),e.$emit("zhuige_event_user_mobile",{mobile:t.data.mobile}),o.default.navigateBack()})):c.default.toast(t.detail.errMsg)}}};t.default=r}).call(this,a("df3c")["default"])},f28e:function(e,t,a){}},[["6d4c","common/runtime","common/vendor"]]]);