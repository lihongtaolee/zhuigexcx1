(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/login/login"],{"0a36":function(e,t,a){"use strict";a.r(t);var n=a("d76a"),i=a("6863");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("b183");var u=a("828b"),d=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=d.exports},"342d":function(e,t,a){"use strict";(function(e,t){var n=a("47a9");a("0322");n(a("3240"));var i=n(a("0a36"));e.__webpack_require_UNI_MP_PLUGIN__=a,t(i.default)}).call(this,a("3223")["default"],a("df3c")["createPage"])},6863:function(e,t,a){"use strict";a.r(t);var n=a("dd9d"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},b183:function(e,t,a){"use strict";var n=a("e1dd"),i=a.n(n);i.a},d76a:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this.$createElement;this._self._c},i=[]},dd9d:function(e,t,a){"use strict";(function(e){var n=a("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("59b4")),o=n(a("92bf")),u=n(a("827e")),d=n(a("59fc")),c=n(a("c52b")),l=n(a("6112")),r={components:{},data:function(){return{type:"login",tip:void 0,background:"",logo:"",title:"",argeeLicense:!1,yhxy:void 0,yszc:void 0}},onLoad:function(t){var a=this;o.default.addShareScore(t.source),t.type&&(this.type=t.type),t.tip&&(this.tip=t.tip);var n="login"==this.type?"登录":"绑定手机号";e.setNavigationBarTitle({title:n}),this.title=getApp().globalData.appName,e.login({success:function(e){a.code=e.code}}),this.loadSetting()},onShareAppMessage:function(){return{title:getApp().globalData.appName,path:o.default.addShareSource("pages/tabs/index/index?n=n")}},methods:{openLink:function(e){o.default.openLink(e)},clickAgreeLicense:function(){this.argeeLicense=!this.argeeLicense},clickLogin:function(){this.argeeLicense?this.login("微信用户",""):d.default.toast("请阅读并同意《用户协议》及《隐私条款》")},login:function(t,a){var n={code:this.code,nickname:t,avatar:a},d=e.getStorageSync(i.default.ZHUIGE_SOURCE_USER_ID);d&&(n.from_user_id=d),n.channel="weixin",l.default.post(c.default.URL("user","login"),n).then((function(t){0!=t.code?(u.default.setUser(void 0),e.$emit("zhuige_event_user_login",{}),e.showModal({content:t.message}),e.reLaunch({url:"/pages/tabs/index/index"})):(u.default.setUser(t.data),e.$emit("zhuige_event_user_login",{}),t.data.first&&1==t.data.first?e.redirectTo({url:"/pages/user/verify/verify"}):o.default.navigateBack())}),(function(e){console.log(e)}))},clickWalk:function(){o.default.navigateBack()},loadSetting:function(){var e=this;l.default.post(c.default.URL("setting","login")).then((function(t){e.background=t.data.background,e.logo=t.data.logo,e.title=t.data.title,e.yhxy=t.data.yhxy,e.yszc=t.data.yszc}),(function(e){console.log(e)}))},getPhoneNumber:function(t){"getPhoneNumber:ok"==t.detail.errMsg?l.default.post(c.default.URL("user","set_mobile2"),{code:t.detail.code}).then((function(t){d.default.toast(t.message);var a=u.default.getUser();a.mobile=t.data.mobile,u.default.setUser(a),e.$emit("zhuige_event_user_mobile",{mobile:t.data.mobile}),o.default.navigateBack()})):d.default.toast(t.detail.errMsg)}}};t.default=r}).call(this,a("df3c")["default"])},e1dd:function(e,t,a){}},[["342d","common/runtime","common/vendor"]]]);