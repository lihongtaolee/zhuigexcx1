(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shop/detail"],{"08a6":function(o,t,e){"use strict";e.r(t);var n=e("6df7"),i=e.n(n);for(var a in n)["default"].indexOf(a)<0&&function(o){e.d(t,o,(function(){return n[o]}))}(a);t["default"]=i.a},"6df7":function(o,t,e){"use strict";(function(o){var n=e("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(e("7ca3")),a=n(e("435b")),r=(n(e("85d8")),n(e("9a2d"))),s=n(e("c118")),u=e("8f59");n(e("3563"));function c(o,t){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.push.apply(e,n)}return e}function d(o){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?c(Object(e),!0).forEach((function(t){(0,i.default)(o,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach((function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(e,t))}))}return o}var l={components:{JiangqieNoData:function(){e.e("components/zhuige-nodata").then(function(){return resolve(e("5081"))}.bind(null,e)).catch(e.oe)}},data:function(){return{goods_id:0,goods:void 0,comments:[],loadMore:"more",loaded:!1}},computed:d({},(0,u.mapGetters)(["getCartCount"])),onLoad:function(t){t.goods_id?(this.goods_id=t.goods_id,this.loadGoods(),this.loadComments(!0)):o.reLaunch({url:"/pages/tabs/index/index"})},onPullDownRefresh:function(){this.loadGoods(),this.loadComments(!0)},onReachBottom:function(){"more"==this.loadMore&&this.loadComments(!1)},onShareAppMessage:function(){return{title:this.goods.title+"_"+getApp().globalData.appName,path:"pages/shop/detail?goods_id="+this.goods_id}},onShareTimeline:function(){return{title:this.goods.title+"_"+getApp().globalData.appName}},methods:d(d({},(0,u.mapMutations)(["cartGoodsAdd"])),{},{clickLink:function(o){a.default.openLink(o)},showSlides:function(t){var e=[];this.goods.slide.forEach((function(o){e.push(o.image.url)})),o.previewImage({urls:e,current:t})},clickCart:function(){o.switchTab({url:"/pages/shop/cart"})},loadGoods:function(){var t=this;s.default.post(r.default.ZHUIGE_SHOP_GOODS_DETAIL,{post_id:this.goods_id}).then((function(e){t.goods=e.data,o.stopPullDownRefresh()}),(function(o){console.log(o)}))},loadComments:function(o){var t=this,e={post_id:this.goods_id};o||(e.offset=this.comments.length),s.default.post(r.default.ZHUIGE_SHOP_COMMENT_INDEX,e).then((function(e){t.comments=o?e.data.comments:t.comments.concat(e.data.comments),t.loadMore=e.data.more,t.loaded=!0}),(function(o){console.log(o)}))}})};t.default=l}).call(this,e("df3c")["default"])},"7b67":function(o,t,e){"use strict";(function(o,t){var n=e("47a9");e("1e94");n(e("3240"));var i=n(e("a2a9"));o.__webpack_require_UNI_MP_PLUGIN__=e,t(i.default)}).call(this,e("3223")["default"],e("df3c")["createPage"])},a2a9:function(o,t,e){"use strict";e.r(t);var n=e("fa30"),i=e("08a6");for(var a in i)["default"].indexOf(a)<0&&function(o){e.d(t,o,(function(){return i[o]}))}(a);var r=e("828b"),s=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"17e42640",null,!1,n["a"],void 0);t["default"]=s.exports},fa30:function(o,t,e){"use strict";e.d(t,"b",(function(){return i})),e.d(t,"c",(function(){return a})),e.d(t,"a",(function(){return n}));var n={mpHtml:function(){return Promise.all([e.e("common/vendor"),e.e("components/mp-html/mp-html")]).then(e.bind(null,"605d"))},uniIcons:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(e.bind(null,"d68c"))},uniRate:function(){return e.e("uni_modules/uni-rate/components/uni-rate/uni-rate").then(e.bind(null,"1e7e"))},uniLoadMore:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uni-load-more/components/uni-load-more/uni-load-more")]).then(e.bind(null,"45ad"))}},i=function(){var o=this,t=o.$createElement,e=(o._self._c,o.goods&&o.goods.slide&&o.goods.slide.length>0),n=o.goods?o.goods.badge.length:null,i=o.comments&&o.comments.length>0;o.$mp.data=Object.assign({},{$root:{g0:e,g1:n,g2:i}})},a=[]}},[["7b67","common/runtime","common/vendor"]]]);