<view class="page"><view class="cart-container"><block wx:if="{{getCartCount>0}}"><view class="cart-header"><view class="cart-count">购物数量<text>{{getCartCount}}</text></view><view data-event-opts="{{[['tap',[['clickManage',['$event']]]]]}}" class="cart-manage" bindtap="__e">{{manage?'取消':'管理'}}</view></view><view class="cart-list"><block wx:for="{{cart}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="cart-item"><view class="item-check"><uni-icons vue-id="{{'50400516-1-'+index}}" type="{{manage?item.check_del==1?'checkbox-filled':'circle':item.check_buy==1?'checkbox-filled':'circle'}}" size="24" color="#ff4400" data-event-opts="{{[['^click',[['clickItemCheck',['$0'],[[['cart','',index,'id']]]]]]]}}" catch:click="__e" bind:__l="__l"></uni-icons></view><image class="item-image" src="{{item.thumbnail}}" mode="aspectFill" data-event-opts="{{[['tap',[['clickItem',['$0'],[[['cart','',index,'id']]]]]]]}}" bindtap="__e"></image><view class="item-info"><view data-event-opts="{{[['tap',[['clickItem',['$0'],[[['cart','',index,'id']]]]]]]}}" class="item-title" bindtap="__e">{{item.title}}</view><view class="item-price-count"><view class="price"><text>￥</text><text>{{item.price}}</text></view><view class="count-control"><text data-event-opts="{{[['tap',[['clickGoodsMinus',['$0','$1',1],[[['cart','',index,'id']],[['cart','',index,'count']]]]]]]}}" class="minus" bindtap="__e">-</text><input type="number" data-goods_id="{{item.id}}" data-event-opts="{{[['input',[['inputGoodsCount',['$event']]]]]}}" value="{{item.count}}" bindinput="__e"/><text data-event-opts="{{[['tap',[['clickGoodsAdd',['$0',1],[[['cart','',index,'id']]]]]]]}}" class="plus" bindtap="__e">+</text></view></view></view></view></block></view><view class="cart-footer"><view class="select-all"><uni-icons vue-id="50400516-2" type="{{manage?getCheckDelAll?'checkbox-filled':'circle':getCheckBuyAll?'checkbox-filled':'circle'}}" size="24" color="#ff4400" data-event-opts="{{[['^click',[['clickCheckAll']]]]}}" bind:click="__e" bind:__l="__l"></uni-icons><text data-event-opts="{{[['tap',[['clickCheckAll',['$event']]]]]}}" class="all-text" bindtap="__e">{{"全选（"+(manage?getCheckDelCount:getCheckBuyCount)+"件）"}}</text></view><view class="action-area"><block wx:if="{{!manage}}"><view class="total-price"><text>￥</text><text>{{getCheckBuyAmount}}</text></view></block><view data-event-opts="{{[['tap',[['clickNext',['$event']]]]]}}" class="{{['action-btn',(manage)?'delete-btn':'']}}" bindtap="__e">{{''+(manage?'立即删除':'立即购买')+''}}</view></view></view></block><block wx:else><view data-event-opts="{{[['tap',[['clickCartEmpty',['$event']]]]]}}" class="empty-cart" bindtap="__e"><image src="/static/shop/empty-cart.png" mode="aspectFit"></image><view class="empty-text">暂无商品，去添加点什么吧~</view></view></block></view></view>