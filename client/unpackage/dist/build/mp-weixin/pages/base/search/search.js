(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/base/search/search"],{"032d":function(t,e,n){"use strict";n.r(e);var a=n("1916"),o=n.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e["default"]=o.a},1916:function(t,e,n){"use strict";(function(t){var a=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("59b4")),s=a(n("92bf")),i=a(n("59fc")),c=a(n("c52b")),r=a(n("6112")),u={components:{},data:function(){return{keywords:"",historys:[],hots:[]}},onLoad:function(e){var n=this;s.default.addShareScore(e.source),t.getStorage({key:o.default.ZHUIGE_SEARCH_KEY,success:function(t){n.historys=t.data}}),this.loadSetting()},onShareAppMessage:function(){return{title:"搜索-"+getApp().globalData.appName,path:s.default.addShareSource("pages/base/search/search?n=n")}},onShareTimeline:function(){return{title:"搜索-"+getApp().globalData.appName}},methods:{clickClear:function(){this.keywords=""},onSearch:function(){this.search(this.keywords)},clickClearHistory:function(){var e=this;t.showModal({title:"提示",content:"确定要清除吗？",success:function(n){n.confirm&&t.setStorage({key:o.default.ZHUIGE_SEARCH_KEY,data:[],success:function(){e.historys=[]}})}})},search:function(e){""!=e?(this.logHistory(e),t.navigateTo({url:"/pages/base/list/list?keyword="+e+"&title=搜索【"+e+"】"})):i.default.toast("关键词不能为空")},logHistory:function(e){var n=this;t.getStorage({key:o.default.ZHUIGE_SEARCH_KEY,success:function(a){for(var s=[e],i=0;i<a.data.length&&s.length<o.default.ZHUIGE_SEARCH_MAX_COUNT;i++)e!=a.data[i]&&s.push(a.data[i]);n.historys=s,t.setStorage({data:s,key:o.default.ZHUIGE_SEARCH_KEY})},fail:function(a){var s=[e];n.historys=s,t.setStorage({data:s,key:o.default.ZHUIGE_SEARCH_KEY})}})},loadSetting:function(){var t=this;r.default.post(c.default.URL("setting","search"),{}).then((function(e){t.hots=e.data.hots}),(function(t){console.log(t)}))}}};e.default=u}).call(this,n("df3c")["default"])},"46e5":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return a}));var a={uniIcons:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(n.bind(null,"ca98"))}},o=function(){var t=this.$createElement,e=(this._self._c,this.historys&&this.historys.length>0),n=this.hots&&this.hots.length>0;this.$mp.data=Object.assign({},{$root:{g0:e,g1:n}})},s=[]},"7c62":function(t,e,n){},"7ddb":function(t,e,n){"use strict";n.r(e);var a=n("46e5"),o=n("032d");for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(s);n("c3ce");var i=n("828b"),c=Object(i["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=c.exports},b49a:function(t,e,n){"use strict";(function(t,e){var a=n("47a9");n("0322");a(n("3240"));var o=a(n("7ddb"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},c3ce:function(t,e,n){"use strict";var a=n("7c62"),o=n.n(a);o.a}},[["b49a","common/runtime","common/vendor"]]]);