(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabs/index/index"],{"1e24":function(e,t,n){"use strict";n.r(t);var i=n("36c5"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=o.a},"36c5":function(e,t,n){"use strict";(function(e){var i=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("435b")),a=i(n("9a2d")),c=i(n("c118")),r={components:{ZhuigeSwiper:function(){n.e("components/zhuige-swiper").then(function(){return resolve(n("fcc3"))}.bind(null,n)).catch(n.oe)},ZhuigeIcons:function(){n.e("components/zhuige-icons").then(function(){return resolve(n("c641"))}.bind(null,n)).catch(n.oe)},zhuigeHeightPredict:function(){n.e("components/zhuige-height-predict").then(function(){return resolve(n("b945"))}.bind(null,n)).catch(n.oe)}},data:function(){return{isLoading:!0,logo:void 0,style:"",heightData:{currentHeight:165,geneticHeight:175,targetHeight:180,probability:85,baobaoname:"演示宝宝"},apiBaseUrl:"https://x.erquhealth.com/wp-json/zhuige/sgtool",slides:[],icons:[]}},onLoad:function(){this.refresh(),this.fetchUserHeightData()},onShow:function(){this.refresh();var t=e.getStorageSync("zhuige_xcx_user");t&&t.user_id?this.fetchUserHeightData():this.heightData={currentHeight:165,geneticHeight:175,targetHeight:180,probability:85,baobaoname:"演示宝宝"}},methods:{openLink:function(e){o.default.openLink(e)},refresh:function(){this.loadSetting()},loadSetting:function(){var e=this;c.default.post(a.default.URL("setting","home")).then((function(t){e.logo=t.data.logo,e.slides=t.data.slides,e.icons=t.data.icons,t.data.style&&(e.style=t.data.style),e.isLoading=!1})).catch((function(t){console.log(t),e.isLoading=!1}))},fetchUserHeightData:function(){var t=this,n=e.getStorageSync("zhuige_xcx_user");if(console.log("开始获取身高数据，用户认证信息：",n),!n||!n.user_id)return console.log("用户未登录，使用默认数据"),void(this.isLoading=!1);console.log("准备发起API请求，用户ID：",n.user_id),e.request({url:"".concat(this.apiBaseUrl,"/get_user_height_data"),method:"GET",data:{user_id:n.user_id},header:{"content-type":"application/json"},success:function(e){if(console.log("API响应数据：",e),200===e.statusCode&&e.data&&0===e.data.code){var n=e.data.data;console.log("解析到的用户身高数据：",n),n&&n.baobaoname?(console.log("检测到完整的宝宝档案，更新所有数据"),t.heightData={geneticHeight:Number(1===n.gender?n.boy_genetic_height:n.girl_genetic_height),currentHeight:Number(n.current_height),targetHeight:Number(n.target_height),probability:Number(n.prediction_probability),baobaoname:n.baobaoname,updateTime:n.create_time},console.log("更新后的heightData：",t.heightData)):(console.log("未检测到宝宝档案，使用默认数据"),t.heightData={currentHeight:165,geneticHeight:175,targetHeight:180,probability:85,baobaoname:"演示宝宝",updateTime:""})}},fail:function(t){console.error("API请求失败：",t),e.showToast({title:"获取数据失败",icon:"none"})}})}}};t.default=r}).call(this,n("df3c")["default"])},"87f1":function(e,t,n){"use strict";n.r(t);var i=n("a47e"),o=n("1e24");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("9502");var c=n("828b"),r=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);t["default"]=r.exports},9502:function(e,t,n){"use strict";var i=n("bcd8"),o=n.n(i);o.a},a47e:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uniNavBar:function(){return n.e("uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar").then(n.bind(null,"1f4e"))},uniIcons:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(n.bind(null,"d68c"))}},o=function(){var e=this.$createElement,t=(this._self._c,this.slides&&this.slides.length>0),n=this.icons&&this.icons.length>0;this.$mp.data=Object.assign({},{$root:{g0:t,g1:n}})},a=[]},bcd8:function(e,t,n){},becb:function(e,t,n){"use strict";(function(e,t){var i=n("47a9");n("1e94");i(n("3240"));var o=i(n("87f1"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])}},[["becb","common/runtime","common/vendor"]]]);