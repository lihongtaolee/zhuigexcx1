(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/bbs/forum-users/forum-users"],{"2d4f":function(o,e,n){"use strict";n.r(e);var t=n("7010"),u=n("a5d1");for(var i in u)["default"].indexOf(i)<0&&function(o){n.d(e,o,(function(){return u[o]}))}(i);n("92b9");var s=n("828b"),r=Object(s["a"])(u["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],void 0);e["default"]=r.exports},"6fcd":function(o,e,n){"use strict";(function(o,e){var t=n("47a9");n("0322");t(n("3240"));var u=t(n("2d4f"));o.__webpack_require_UNI_MP_PLUGIN__=n,e(u.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},7010:function(o,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return t}));var t={uniLoadMore:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-load-more/components/uni-load-more/uni-load-more")]).then(n.bind(null,"6deb"))}},u=function(){var o=this.$createElement;this._self._c},i=[]},"75a6":function(o,e,n){},"92b9":function(o,e,n){"use strict";var t=n("75a6"),u=n.n(t);u.a},a5d1:function(o,e,n){"use strict";n.r(e);var t=n("dce1"),u=n.n(t);for(var i in t)["default"].indexOf(i)<0&&function(o){n.d(e,o,(function(){return t[o]}))}(i);e["default"]=u.a},dce1:function(o,e,n){"use strict";(function(o){var t=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(n("92bf")),i=t(n("59fc")),s=t(n("c52b")),r=t(n("6112")),a={components:{},data:function(){return this.loginReload=!1,{forum_id:void 0,owner:void 0,users:[],loadMore:"more"}},onLoad:function(e){u.default.addShareScore(e.source),e.forum_id?this.forum_id=e.forum_id:this.forum_id=1,this.loadUsers(!0),o.$on("zhuige_event_user_login",this.onSetReload),o.$on("zhuige_event_follow_user",this.onFlollowUser)},onUnload:function(){o.$off("zhuige_event_follow_user",this.onFlollowUser),o.$off("zhuige_event_user_login",this.onSetReload)},onShow:function(){this.loginReload&&(this.loginReload=!1,this.loadUsers(!0))},onReachBottom:function(){"more"==this.loadMore&&this.loadUsers(!1)},onShareAppMessage:function(){return{title:"圈子成员-"+getApp().globalData.appName,path:u.default.addShareSource("pages/bbs/forum-users/forum-users?forum_id="+this.forum_id)}},onShareTimeline:function(){return{title:"圈子成员-"+getApp().globalData.appName}},methods:{onFlollowUser:function(o){this.owner&&this.owner.user_id==o.user_id&&(this.owner.is_follow=o.is_follow),this.users&&this.users.length>0&&this.users.forEach((function(e){e.user_id==o.user_id&&(e.is_follow=o.is_follow)}))},onSetReload:function(o){this.loginReload=!0},clickUser:function(o){u.default.openLink("/pages/user/home/home?user_id="+o)},clickFollowUser:function(e){r.default.post(s.default.URL("user","follow_user"),{user_id:e}).then((function(n){0==n.code?o.$emit("zhuige_event_follow_user",{user_id:e,is_follow:n.data.is_follow}):i.default.toast(n.message)}),(function(o){console.log(o)}))},loadUsers:function(o){var e=this;"loading"!=this.loadMore&&(this.loadMore="loading",r.default.post(s.default.URL("bbs","forum_users"),{forum_id:this.forum_id,offset:o?0:this.users.length}).then((function(n){n.data.owner&&(e.owner=n.data.owner),e.users=o?n.data.users:e.users.concat(n.data.users),e.loadMore=n.data.more}),(function(o){console.log(o)})))}}};e.default=a}).call(this,n("df3c")["default"])}},[["6fcd","common/runtime","common/vendor"]]]);