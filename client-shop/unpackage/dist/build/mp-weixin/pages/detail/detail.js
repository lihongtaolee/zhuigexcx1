(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/detail/detail"],{"456a":function(t,o,n){"use strict";(function(t){var e=n("47a9");Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=e(n("7ca3")),i=e(n("c297")),r=(e(n("3574")),e(n("a5fb"))),c=e(n("622e")),u=n("8f59");e(n("0060"));function s(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);o&&(e=e.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),n.push.apply(n,e)}return n}function d(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?s(Object(n),!0).forEach((function(o){(0,a.default)(t,o,n[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))}))}return t}var l={components:{JiangqieNoData:function(){n.e("components/nodata/nodata").then(function(){return resolve(n("7a2e"))}.bind(null,n)).catch(n.oe)}},data:function(){return{goods_id:0,goods:void 0,comments:[],loadMore:"more",loaded:!1}},computed:d({},(0,u.mapGetters)(["getCartCount"])),onLoad:function(o){o.goods_id?(this.goods_id=o.goods_id,this.loadGoods(),this.loadComments(!0)):t.reLaunch({url:"/pages/index/index"})},onPullDownRefresh:function(){this.loadGoods(),this.loadComments(!0)},onReachBottom:function(){"more"==this.loadMore&&this.loadComments(!1)},onShareAppMessage:function(){return{title:this.goods.title+"_"+getApp().globalData.appName,path:"pages/detail/detail?goods_id="+this.goods_id}},onShareTimeline:function(){return{title:this.goods.title+"_"+getApp().globalData.appName}},methods:d(d({},(0,u.mapMutations)(["cartGoodsAdd"])),{},{clickLink:function(t){i.default.openLink(t)},showSlides:function(o){var n=[];this.goods.slide.forEach((function(t){n.push(t.image.url)})),t.previewImage({urls:n,current:o})},clickCart:function(){t.switchTab({url:"/pages/cart/cart"})},loadGoods:function(){var o=this;c.default.post(r.default.ZHUIGE_SHOP_GOODS_DETAIL,{post_id:this.goods_id}).then((function(n){o.goods=n.data,t.stopPullDownRefresh()}),(function(t){console.log(t)}))},loadComments:function(t){var o=this,n={post_id:this.goods_id};t||(n.offset=this.comments.length),c.default.post(r.default.ZHUIGE_SHOP_COMMENT_INDEX,n).then((function(n){o.comments=t?n.data.comments:o.comments.concat(n.data.comments),o.loadMore=n.data.more,o.loaded=!0}),(function(t){console.log(t)}))}})};o.default=l}).call(this,n("df3c")["default"])},"50b7":function(t,o,n){},"726a":function(t,o,n){"use strict";(function(t,o){var e=n("47a9");n("503f");e(n("3240"));var a=e(n("f72c"));t.__webpack_require_UNI_MP_PLUGIN__=n,o(a.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},a3a0:function(t,o,n){"use strict";n.r(o);var e=n("456a"),a=n.n(e);for(var i in e)["default"].indexOf(i)<0&&function(t){n.d(o,t,(function(){return e[t]}))}(i);o["default"]=a.a},bbc0:function(t,o,n){"use strict";n.d(o,"b",(function(){return a})),n.d(o,"c",(function(){return i})),n.d(o,"a",(function(){return e}));var e={mpHtml:function(){return Promise.all([n.e("common/vendor"),n.e("components/mp-html/mp-html")]).then(n.bind(null,"56bd"))},uniIcons:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(n.bind(null,"42ec"))},uniRate:function(){return n.e("uni_modules/uni-rate/components/uni-rate/uni-rate").then(n.bind(null,"a87a"))},uniLoadMore:function(){return n.e("uni_modules/uni-load-more/components/uni-load-more/uni-load-more").then(n.bind(null,"c065"))}},a=function(){var t=this,o=t.$createElement,n=(t._self._c,t.goods&&t.goods.slide&&t.goods.slide.length>0),e=t.goods?t.goods.badge.length:null,a=t.comments&&t.comments.length>0;t.$mp.data=Object.assign({},{$root:{g0:n,g1:e,g2:a}})},i=[]},ef0f:function(t,o,n){"use strict";var e=n("50b7"),a=n.n(e);a.a},f72c:function(t,o,n){"use strict";n.r(o);var e=n("bbc0"),a=n("a3a0");for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(o,t,(function(){return a[t]}))}(i);n("ef0f");var r=n("828b"),c=Object(r["a"])(a["default"],e["b"],e["c"],!1,null,"62f65244",null,!1,e["a"],void 0);o["default"]=c.exports}},[["726a","common/runtime","common/vendor"]]]);